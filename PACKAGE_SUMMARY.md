# üì¶ –°–≤–æ–¥–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

–ü–æ–ª–Ω—ã–π –≥–æ—Ç–æ–≤—ã–π –ø–∞–∫–µ—Ç –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Telegram Warm-up Farm –≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–µ.

### üèóÔ∏è –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Terraform)

- ‚úÖ –ë–∞–∑–æ–≤—ã–µ Terraform –º–æ–¥—É–ª–∏ (`terraform/main.tf`, `variables.tf`, `outputs.tf`)
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:
  - Selectel (`terraform/providers/example-selectel.tf`)
  - Yandex Cloud (`terraform/providers/example-yandex.tf`)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Terraform

### üì¶ Helm Charts

- ‚úÖ **control-node**: –ü–æ–ª–Ω—ã–π Helm chart –¥–ª—è Control Node
  - Deployment —Å HPA
  - Service (LoadBalancer)
  - Ingress —Å TLS
  - ServiceAccount
  - –ì–æ—Ç–æ–≤—ã–µ templates –∏ helpers

- ‚úÖ **wg-proxy**: Helm chart –¥–ª—è WireGuard DaemonSet
  - DaemonSet —Å privileged –¥–æ—Å—Ç—É–ø–æ–º
  - ServiceAccount
  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ values.yaml

### ‚ò∏Ô∏è Kubernetes Manifests

- ‚úÖ Namespace
- ‚úÖ **Android Worker**:
  - Job template
  - –ü—Ä–∏–º–µ—Ä Job —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- ‚úÖ **WireGuard Proxy**:
  - DaemonSet
  - ServiceAccount
  - ConfigMap (—Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∫–ª—é—á–∞–º–∏)
- ‚úÖ **Redis**:
  - StatefulSet (3 replicas)
  - Service
  - ConfigMap
- ‚úÖ **Postgres**:
  - StatefulSet (2 replicas, HA)
  - Service
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é Secrets

### üê≥ Docker

- ‚úÖ **android-worker**:
  - Dockerfile –Ω–∞ –±–∞–∑–µ Ubuntu 22.04
  - Python worker —Å–∫—Ä–∏–ø—Ç (`worker.py`)
  - requirements.txt —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
  - .dockerignore

### üìú –°–∫—Ä–∏–ø—Ç—ã

- ‚úÖ `deploy.sh` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ `smoke-test.sh` - Smoke —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- ‚úÖ `create-secrets.sh` - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ secrets

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ **README.md** - –û—Å–Ω–æ–≤–Ω–æ–π README —Å –±—ã—Å—Ç—Ä—ã–º —Å—Ç–∞—Ä—Ç–æ–º
- ‚úÖ **PROJECT_STRUCTURE.md** - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ **docs/QUICKSTART.md** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 5 –º–∏–Ω—É—Ç
- ‚úÖ **docs/DEPLOYMENT.md** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- ‚úÖ **docs/ARCHITECTURE.md** - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ **docs/CLOUD_REQUEST_TEMPLATE.md** - –®–∞–±–ª–æ–Ω—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –æ–±–ª–∞–∫–æ

### üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- ‚úÖ **Makefile** - –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º
- ‚úÖ **docker-compose.yml** - –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ **.gitignore** - –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è Git

## üéØ –ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å—Ä–∞–∑—É

### 1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –æ–±–ª–∞–∫–æ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docs/CLOUD_REQUEST_TEMPLATE.md` –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.

### 2. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å docker-compose
docker-compose up -d

# –ò–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π K8s –∫–ª–∞—Å—Ç–µ—Ä
make deploy
```

### 3. –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã

```bash
make build-worker
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã

```bash
make test
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é WireGuard –≤ `k8s/wg-proxy/configmap.yaml`
- [ ] –°–æ–∑–¥–∞—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ secrets (—Å–º. `k8s/secrets/README.md`)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Terraform –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ Helm charts (`values.yaml`)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å ingress –¥–æ–º–µ–Ω—ã –≤ `helm/control-node/values.yaml`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã worker nodes (CPU/RAM)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±—ç–∫–∞–ø—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞** (Selectel, Yandex Cloud, TimeWeb, etc.)
2. **–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å Terraform** –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
3. **–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É** —á–µ—Ä–µ–∑ Terraform
4. **–°–æ–∑–¥–∞—Ç—å secrets** —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –∏–ª–∏ –≤—Ä—É—á–Ω—É—é
5. **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** —á–µ—Ä–µ–∑ Helm –∏–ª–∏ kubectl
6. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** —á–µ—Ä–µ–∑ smoke —Ç–µ—Å—Ç—ã
7. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –±—ç–∫–∞–ø—ã**

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–í—Å–µ —Ñ–∞–π–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é. –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `docs/`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ `k8s/` –∏ `helm/`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `make help` –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Secrets**: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ secrets –≤ Git
2. **WireGuard**: –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ peer'–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ VDS –≤ –†–§
3. **Privileged pods**: Android worker —Ç—Ä–µ–±—É–µ—Ç `privileged: true` –¥–ª—è Waydroid/Anbox
4. **–†–µ—Å—É—Ä—Å—ã**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ worker nodes –∏–º–µ—é—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Network Policies –∏ RBAC –¥–ª—è production

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í—Å–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ù–∞—á–Ω–∏—Ç–µ —Å `docs/QUICKSTART.md` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞.


